<template>
    <v-row>
        <v-col cols="12">
            <h1>–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è —Å—Å—ã–ª–æ–∫ <v-btn to="/do/create" primary><v-icon>mdi-plus-circle-outline</v-icon></v-btn></h1>
            
        </v-col>
        <v-col cols="12" md="6">
            <p>–í–∞—à–∏ —Å—Å—ã–ª–∫–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –Ω–∞ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ</p>
                    <v-row>
                        <h2>üì£ –†–µ–π—Ç–∏–Ω–≥ —Å—Å—ã–ª–æ–∫</h2>
                    </v-row>
                    
                    <v-row v-for="(link, index) in links.links"  :key="index" >
                        
                        <v-col cols="6" sm="10"> 
                            <v-card style="padding:10px">
                                <h3><a :href="link.from.substr(0, 4)==='http'? link.from : 'http://'+ link.from" target="_blank"  follow="no-follow">{{link.from}}</a>  </h3>
                                <p>{{link.to}}</p>
                                <p><v-chip 
                                        class="ma-2"
                                        color="orange"
                                        label
                                        outlined> 
                                          üëÜ –ö–ª–∏–∫–æ–≤: {{link.clicks}}
                                    </v-chip>
                                    <v-chip 
                                        class="ma-2"
                                        color="orange"
                                        label
                                        outlined> 
                                             üíµ –ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ: 1 399 —Ä—É–±.
                                    </v-chip>
                                </p>
                            </v-card></v-col>
                        <v-col cols="2" sm="2"  class="to-colum">
                   
                         <v-tooltip right>
                             <template v-slot:activator="{ on, attrs }">    
                                 <v-btn icon primary 
                                 v-bind="attrs"
                                    v-on="on"><v-icon>mdi-content-copy</v-icon></v-btn>
                                  </template>
                                <span>–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</span>
                          </v-tooltip>
                          <v-tooltip right>
                             <template v-slot:activator="{ on, attrs }"> 
                            <v-btn v-bind="attrs" v-on="on" icon primary><v-icon>mdi-circle-edit-outline</v-icon></v-btn>
                              </template>
                                <span>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</span>
                          </v-tooltip>
                           <v-tooltip right>
                             <template v-slot:activator="{ on, attrs }"> 
                            <v-btn v-bind="attrs" v-on="on" icon primary><v-icon>mdi-delete-circle</v-icon></v-btn>
                              </template>
                                <span>–£–¥–∞–ª–∏—Ç—å</span>
                          </v-tooltip>
                        </v-col>
                         
                    </v-row>
                    
        </v-col>
    </v-row>
</template>
<script>
export default {
    async asyncData({$axios}){
        const links =await $axios.$get('link/my');
        
        return {
            links
        }
    }
}
</script>
<style scoped>
.to-colum{
    display: flex;
    flex-direction: column;
}
</style>